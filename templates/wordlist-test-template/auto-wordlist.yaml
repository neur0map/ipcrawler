metadata:
  name: "Auto Wordlist Directory Scan"
  description: "Test plugin using auto wordlist selection"
  type: "servicescan"
  priority: 10
  version: "1.0"
  author: "IPCrawler Test Suite"

conditions:
  services:
    include: ["^http", "ssl/http", "^https"]

options:
  - name: "wordlist"
    type: "string"
    default: "auto"
    help: "Wordlist to use - auto selection enabled"
  - name: "threads"
    type: "integer"
    default: 5
    help: "Number of threads to use"

execution:
  commands:
    - name: "directory_scan_auto"
      command: "echo 'Auto wordlist test: {resolved_wordlist}' && ls -la '{resolved_wordlist}' 2>/dev/null | head -3"
      timeout: 30
      description: "Test auto wordlist resolution"

output:
  patterns:
    - pattern: "Auto wordlist test: (.+)"
      description: "Auto-resolved wordlist: {match1}"
      severity: "info"
      category: "wordlist_test"

requirements:
  tools:
    - name: "echo"
      check_command: "echo --version"
      install_hint: "Built-in command"